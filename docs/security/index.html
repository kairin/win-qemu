<!DOCTYPE html><html lang="en" data-theme="nightowl"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="description" content="Security hardening guide for QEMU/KVM Windows 11 virtualization"><meta name="generator" content="Astro v5.16.3"><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://kairin.github.io/win-qemu/"><meta property="og:title" content="QEMU/KVM Windows 11 Virtualization"><meta property="og:description" content="Run Windows 11 on Ubuntu with 85-95% native performance using QEMU/KVM, VirtIO, and Hyper-V enlightenments."><meta property="og:image" content="https://kairin.github.io/win-qemu/og-image.png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><!-- Twitter --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="QEMU/KVM Windows 11 Virtualization"><meta name="twitter:description" content="Run Windows 11 on Ubuntu with 85-95% native performance using QEMU/KVM, VirtIO, and Hyper-V enlightenments."><meta name="twitter:image" content="https://kairin.github.io/win-qemu/og-image.png"><link rel="icon" type="image/svg+xml" href="/win-qemu/favicon.svg"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"><title>Security | QEMU/KVM Docs</title><!-- Theme toggle script (runs before paint to prevent flash) --><script>
      const theme = localStorage.getItem('theme') ||
        (window.matchMedia('(prefers-color-scheme: light)').matches ? 'sunrise' : 'nightowl');
      document.documentElement.setAttribute('data-theme', theme);
    </script><link rel="stylesheet" href="/win-qemu/_astro/changelog.BttMfxTJ.css"></head> <body class="min-h-dvh bg-base-100 text-base-content antialiased"> <!-- Two-column layout wrapper --> <div class="lg:flex"> <!-- Fixed Sidebar --> <aside class="relative flex-none overflow-hidden px-6 lg:pointer-events-none lg:fixed lg:inset-0 lg:z-40 lg:flex lg:px-0"> <!-- Glow effect background --> <div class="absolute inset-0 -z-10 overflow-hidden bg-base-300 lg:right-[calc(max(2rem,50%-38rem)+40rem)] lg:min-w-[32rem]"> <svg class="absolute -bottom-48 left-[-40%] h-[80rem] w-[180%] lg:top-[-40%] lg:-right-40 lg:bottom-auto lg:left-auto lg:h-[180%] lg:w-[112rem]" aria-hidden="true"> <defs> <radialGradient id="glow-desktop" cx="100%"> <stop offset="0%" stop-color="oklch(0.75 0.18 280 / 0.3)"></stop> <stop offset="53.95%" stop-color="oklch(0.70 0.15 200 / 0.09)"></stop> <stop offset="100%" stop-color="transparent"></stop> </radialGradient> <radialGradient id="glow-mobile" cy="100%"> <stop offset="0%" stop-color="oklch(0.75 0.18 280 / 0.3)"></stop> <stop offset="53.95%" stop-color="oklch(0.70 0.15 200 / 0.09)"></stop> <stop offset="100%" stop-color="transparent"></stop> </radialGradient> </defs> <rect width="100%" height="100%" fill="url(#glow-desktop)" class="hidden lg:block"></rect> <rect width="100%" height="100%" fill="url(#glow-mobile)" class="lg:hidden"></rect> </svg> <div class="absolute inset-x-0 right-0 bottom-0 h-px bg-base-content/10 mix-blend-overlay lg:top-0 lg:left-auto lg:h-auto lg:w-px"></div> </div> <!-- Sidebar content --> <div class="relative flex w-full lg:pointer-events-auto lg:mr-[calc(max(2rem,50%-38rem)+40rem)] lg:min-w-[32rem] lg:overflow-x-hidden lg:overflow-y-auto lg:pl-[max(4rem,calc(50%-38rem))]"> <div class="mx-auto max-w-lg lg:mx-0 lg:flex lg:w-96 lg:max-w-none lg:flex-col lg:before:flex-1 lg:before:pt-6"> <div class="pt-20 pb-16 sm:pt-32 sm:pb-20 lg:py-20"> <div class="relative"> <!-- Star field animation --> <!-- Layer 1: Main layer (original position, enhanced) --><svg viewBox="0 0 881 211" fill="white" aria-hidden="true" class="pointer-events-none absolute w-[75rem] origin-top-right rotate-[30deg] overflow-visible opacity-80 top-14 -right-44 hidden lg:block" data-astro-cid-starfield-layer1 data-astro-cid-ra7sfcwn> <defs data-astro-cid-ra7sfcwn> <filter id="starfield-ahyh83005-blur" data-astro-cid-ra7sfcwn> <feGaussianBlur in="SourceGraphic" stdDeviation="0.5" data-astro-cid-ra7sfcwn></feGaussianBlur> </filter> <filter id="starfield-ahyh83005-glow" data-astro-cid-ra7sfcwn> <feGaussianBlur in="SourceGraphic" stdDeviation="1" result="blur" data-astro-cid-ra7sfcwn></feGaussianBlur> <feMerge data-astro-cid-ra7sfcwn> <feMergeNode in="blur" data-astro-cid-ra7sfcwn></feMergeNode> <feMergeNode in="SourceGraphic" data-astro-cid-ra7sfcwn></feMergeNode> </feMerge> </filter> </defs> <!-- Constellation lines --> <path class="constellation-path" stroke="currentColor" stroke-opacity="0.35" stroke-width="0.5" stroke-dasharray="1" stroke-dashoffset="1" pathLength="1" fill="transparent" d="M 247,103 L 261,86 L 307,104 L 357,36" style="animation-delay: 1.2s" data-astro-cid-ra7sfcwn></path><path class="constellation-path" stroke="currentColor" stroke-opacity="0.35" stroke-width="0.5" stroke-dasharray="1" stroke-dashoffset="1" pathLength="1" fill="transparent" d="M 586,120 L 516,100 L 491,62 L 440,107 L 477,180 L 516,100" style="animation-delay: 2.4s" data-astro-cid-ra7sfcwn></path><path class="constellation-path" stroke="currentColor" stroke-opacity="0.35" stroke-width="0.5" stroke-dasharray="1" stroke-dashoffset="1" pathLength="1" fill="transparent" d="M 733,100 L 803,120 L 879,113 L 823,164 L 803,120" style="animation-delay: 3.5999999999999996s" data-astro-cid-ra7sfcwn></path><path class="constellation-path" stroke="currentColor" stroke-opacity="0.35" stroke-width="0.5" stroke-dasharray="1" stroke-dashoffset="1" pathLength="1" fill="transparent" d="M 100,60 L 140,40 L 180,55 L 160,90 L 120,85 L 100,60" style="animation-delay: 4.8s" data-astro-cid-ra7sfcwn></path><path class="constellation-path" stroke="currentColor" stroke-opacity="0.35" stroke-width="0.5" stroke-dasharray="1" stroke-dashoffset="1" pathLength="1" fill="transparent" d="M 650,50 L 690,35 L 720,60 L 700,80 L 650,50" style="animation-delay: 6s" data-astro-cid-ra7sfcwn></path> <!-- Stars --> <g class="star-group" style="animation-delay: 0.681810180927052s" data-astro-cid-ra7sfcwn> <circle cx="4" cy="4" r="1" class="star star-dim" filter="url(#starfield-ahyh83005-blur)" style="
          transform-origin: 0.25rem 0.25rem;
          animation-delay: 0.04665094440369577s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.1393302124211322s" data-astro-cid-ra7sfcwn> <circle cx="4" cy="44" r="1.2" class="star star-dim" style="
          transform-origin: 0.25rem 2.75rem;
          animation-delay: 3.964204278980417s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.31941026869047295s" data-astro-cid-ra7sfcwn> <circle cx="36" cy="22" r="1.5" class="star star-bright" style="
          transform-origin: 2.25rem 1.375rem;
          animation-delay: 3.935315218839283s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.3597664806980212s" data-astro-cid-ra7sfcwn> <circle cx="50" cy="146" r="1" class="star star-dim" filter="url(#starfield-ahyh83005-blur)" style="
          transform-origin: 3.125rem 9.125rem;
          animation-delay: 1.209904478394448s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.3647907505020376s" data-astro-cid-ra7sfcwn> <circle cx="64" cy="43" r="1.2" class="star star-dim" filter="url(#starfield-ahyh83005-blur)" style="
          transform-origin: 4rem 2.6875rem;
          animation-delay: 0.5806542764704758s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.14110496043477205s" data-astro-cid-ra7sfcwn> <circle cx="76" cy="30" r="1" class="star star-dim" style="
          transform-origin: 4.75rem 1.875rem;
          animation-delay: 2.81298471080027s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 1.6555091048926578s" data-astro-cid-ra7sfcwn> <circle cx="101" cy="116" r="2" class="star star-bright" filter="url(#starfield-ahyh83005-glow)" style="
          transform-origin: 6.3125rem 7.25rem;
          animation-delay: 2.916368419811919s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 1.1612732390888445s" data-astro-cid-ra7sfcwn> <circle cx="140" cy="36" r="1.2" class="star star-dim" style="
          transform-origin: 8.75rem 2.25rem;
          animation-delay: 1.028483599103473s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 1.9221227499592968s" data-astro-cid-ra7sfcwn> <circle cx="149" cy="134" r="1.8" class="star star-bright" filter="url(#starfield-ahyh83005-glow)" style="
          transform-origin: 9.3125rem 8.375rem;
          animation-delay: 3.930548810086913s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 1.3685907448379935s" data-astro-cid-ra7sfcwn> <circle cx="162" cy="74" r="1" class="star star-dim" style="
          transform-origin: 10.125rem 4.625rem;
          animation-delay: 2.2907604094951965s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.5935631900204732s" data-astro-cid-ra7sfcwn> <circle cx="171" cy="96" r="1.2" class="star star-dim" filter="url(#starfield-ahyh83005-blur)" style="
          transform-origin: 10.6875rem 6rem;
          animation-delay: 0.6410278983295292s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 1.083140112791137s" data-astro-cid-ra7sfcwn> <circle cx="210" cy="56" r="1" class="star star-dim" filter="url(#starfield-ahyh83005-blur)" style="
          transform-origin: 13.125rem 3.5rem;
          animation-delay: 2.6418910226067234s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.20821743559696793s" data-astro-cid-ra7sfcwn> <circle cx="235" cy="90" r="2" class="star star-bright" filter="url(#starfield-ahyh83005-glow)" style="
          transform-origin: 14.6875rem 5.625rem;
          animation-delay: 1.497790300126848s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.19991597246530146s" data-astro-cid-ra7sfcwn> <circle cx="275" cy="82" r="1.2" class="star star-dim" filter="url(#starfield-ahyh83005-blur)" style="
          transform-origin: 17.1875rem 5.125rem;
          animation-delay: 0.9868714686442299s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.44389512989305246s" data-astro-cid-ra7sfcwn> <circle cx="306" cy="6" r="1.8" class="star star-bright" filter="url(#starfield-ahyh83005-glow)" style="
          transform-origin: 19.125rem 0.375rem;
          animation-delay: 0.5435868002481201s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 1.913897021561534s" data-astro-cid-ra7sfcwn> <circle cx="307" cy="64" r="1" class="star star-dim" filter="url(#starfield-ahyh83005-blur)" style="
          transform-origin: 19.1875rem 4rem;
          animation-delay: 0.0021433049388721592s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.7036406237496244s" data-astro-cid-ra7sfcwn> <circle cx="380" cy="68" r="1.2" class="star star-dim" style="
          transform-origin: 23.75rem 4.25rem;
          animation-delay: 0.07427280945714898s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.20692259508484767s" data-astro-cid-ra7sfcwn> <circle cx="380" cy="108" r="1" class="star star-dim" filter="url(#starfield-ahyh83005-blur)" style="
          transform-origin: 23.75rem 6.75rem;
          animation-delay: 2.1940248363424155s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.14837682704409683s" data-astro-cid-ra7sfcwn> <circle cx="391" cy="148" r="1.2" class="star star-dim" filter="url(#starfield-ahyh83005-blur)" style="
          transform-origin: 24.4375rem 9.25rem;
          animation-delay: 2.7482963529236315s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 1.5533782204704951s" data-astro-cid-ra7sfcwn> <circle cx="405" cy="18" r="1" class="star star-dim" style="
          transform-origin: 25.3125rem 1.125rem;
          animation-delay: 1.7432842378094104s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 1.7636044705049985s" data-astro-cid-ra7sfcwn> <circle cx="412" cy="86" r="1.2" class="star star-dim" filter="url(#starfield-ahyh83005-blur)" style="
          transform-origin: 25.75rem 5.375rem;
          animation-delay: 3.302283461124973s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.12423902471481196s" data-astro-cid-ra7sfcwn> <circle cx="426" cy="210" r="1" class="star star-dim" filter="url(#starfield-ahyh83005-blur)" style="
          transform-origin: 26.625rem 13.125rem;
          animation-delay: 0.09967463253233166s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.36829475186205585s" data-astro-cid-ra7sfcwn> <circle cx="427" cy="56" r="1.2" class="star star-dim" filter="url(#starfield-ahyh83005-blur)" style="
          transform-origin: 26.6875rem 3.5rem;
          animation-delay: 0.0486560656600834s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.6911004672748919s" data-astro-cid-ra7sfcwn> <circle cx="538" cy="138" r="2" class="star star-bright" filter="url(#starfield-ahyh83005-glow)" style="
          transform-origin: 33.625rem 8.625rem;
          animation-delay: 1.1227512894243188s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.23669123826123095s" data-astro-cid-ra7sfcwn> <circle cx="563" cy="88" r="1" class="star star-dim" filter="url(#starfield-ahyh83005-blur)" style="
          transform-origin: 35.1875rem 5.5rem;
          animation-delay: 3.796877225052743s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.4483408519613816s" data-astro-cid-ra7sfcwn> <circle cx="611" cy="154" r="1.2" class="star star-dim" filter="url(#starfield-ahyh83005-blur)" style="
          transform-origin: 38.1875rem 9.625rem;
          animation-delay: 0.5349602259202033s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 1.2542321047124383s" data-astro-cid-ra7sfcwn> <circle cx="637" cy="150" r="1.8" class="star star-bright" filter="url(#starfield-ahyh83005-glow)" style="
          transform-origin: 39.8125rem 9.375rem;
          animation-delay: 1.5996727437535614s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 1.3006492560395353s" data-astro-cid-ra7sfcwn> <circle cx="651" cy="146" r="1" class="star star-dim" style="
          transform-origin: 40.6875rem 9.125rem;
          animation-delay: 1.7107087593900845s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 1.4374321726508135s" data-astro-cid-ra7sfcwn> <circle cx="682" cy="70" r="1.2" class="star star-dim" filter="url(#starfield-ahyh83005-blur)" style="
          transform-origin: 42.625rem 4.375rem;
          animation-delay: 0.5704274140301493s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.1948760855515892s" data-astro-cid-ra7sfcwn> <circle cx="683" cy="128" r="2" class="star star-bright" filter="url(#starfield-ahyh83005-glow)" style="
          transform-origin: 42.6875rem 8rem;
          animation-delay: 1.6703397456336821s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 1.698995034617752s" data-astro-cid-ra7sfcwn> <circle cx="781" cy="82" r="1" class="star star-dim" filter="url(#starfield-ahyh83005-blur)" style="
          transform-origin: 48.8125rem 5.125rem;
          animation-delay: 2.2887921964700197s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 1.8281177608182582s" data-astro-cid-ra7sfcwn> <circle cx="785" cy="158" r="1.2" class="star star-dim" style="
          transform-origin: 49.0625rem 9.875rem;
          animation-delay: 0.5904418794498341s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.6048609030930963s" data-astro-cid-ra7sfcwn> <circle cx="832" cy="146" r="1" class="star star-dim" filter="url(#starfield-ahyh83005-blur)" style="
          transform-origin: 52rem 9.125rem;
          animation-delay: 1.5429411122632333s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 1.7608294027789593s" data-astro-cid-ra7sfcwn> <circle cx="852" cy="89" r="1.8" class="star star-bright" filter="url(#starfield-ahyh83005-glow)" style="
          transform-origin: 53.25rem 5.5625rem;
          animation-delay: 2.71738776230427s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group" style="animation-delay: 0.4462395809430755s" data-astro-cid-ra7sfcwn> <circle cx="879" cy="113" r="2" class="star star-bright" filter="url(#starfield-ahyh83005-glow)" style="
          transform-origin: 54.9375rem 7.0625rem;
          animation-delay: 0.007138052049183052s;
        " data-astro-cid-ra7sfcwn></circle> </g> </svg> <!-- Layer 2: Background layer (different angle, lower opacity) --> <svg viewBox="0 0 881 211" fill="white" aria-hidden="true" class="pointer-events-none absolute w-[85rem] origin-top-right rotate-[15deg] overflow-visible opacity-40 top-14 -right-44 hidden lg:block" style="top: -2rem; right: -6rem;" data-astro-cid-starfield-layer2 data-astro-cid-ra7sfcwn> <defs data-astro-cid-ra7sfcwn> <filter id="starfield-ahyh83005-blur2" data-astro-cid-ra7sfcwn> <feGaussianBlur in="SourceGraphic" stdDeviation="0.8" data-astro-cid-ra7sfcwn></feGaussianBlur> </filter> </defs> <!-- Constellation lines --> <path class="constellation-path constellation-bg" stroke="currentColor" stroke-opacity="0.2" stroke-width="0.3" stroke-dasharray="1" stroke-dashoffset="1" pathLength="1" fill="transparent" d="M 200,100 L 250,80 L 300,110" style="animation-delay: 2.5s" data-astro-cid-ra7sfcwn></path><path class="constellation-path constellation-bg" stroke="currentColor" stroke-opacity="0.2" stroke-width="0.3" stroke-dasharray="1" stroke-dashoffset="1" pathLength="1" fill="transparent" d="M 550,150 L 600,140 L 640,160" style="animation-delay: 5s" data-astro-cid-ra7sfcwn></path> <!-- Stars --> <g class="star-group star-group-bg" style="animation-delay: 1.1066146573768183s" data-astro-cid-ra7sfcwn> <circle cx="120" cy="30" r="0.8" class="star star-dim" filter="url(#starfield-ahyh83005-blur2)" style="
          transform-origin: 7.5rem 1.875rem;
          animation-delay: 3.2211736904121806s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group star-group-bg" style="animation-delay: 2.729834286137736s" data-astro-cid-ra7sfcwn> <circle cx="200" cy="120" r="1" class="star star-dim" filter="url(#starfield-ahyh83005-blur2)" style="
          transform-origin: 12.5rem 7.5rem;
          animation-delay: 2.3212708571472342s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group star-group-bg" style="animation-delay: 3.291611129582905s" data-astro-cid-ra7sfcwn> <circle cx="280" cy="45" r="0.8" class="star star-dim" filter="url(#starfield-ahyh83005-blur2)" style="
          transform-origin: 17.5rem 2.8125rem;
          animation-delay: 0.7281145827761099s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group star-group-bg" style="animation-delay: 3.577193464800227s" data-astro-cid-ra7sfcwn> <circle cx="350" cy="160" r="1" class="star star-dim" filter="url(#starfield-ahyh83005-blur2)" style="
          transform-origin: 21.875rem 10rem;
          animation-delay: 1.6692910619523156s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group star-group-bg" style="animation-delay: 2.072197974500565s" data-astro-cid-ra7sfcwn> <circle cx="450" cy="90" r="0.8" class="star star-dim" filter="url(#starfield-ahyh83005-blur2)" style="
          transform-origin: 28.125rem 5.625rem;
          animation-delay: 1.2044061432549402s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group star-group-bg" style="animation-delay: 2.293558252110743s" data-astro-cid-ra7sfcwn> <circle cx="520" cy="180" r="1" class="star star-dim" filter="url(#starfield-ahyh83005-blur2)" style="
          transform-origin: 32.5rem 11.25rem;
          animation-delay: 1.8569678367554432s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group star-group-bg" style="animation-delay: 2.268047701480415s" data-astro-cid-ra7sfcwn> <circle cx="620" cy="40" r="0.8" class="star star-dim" filter="url(#starfield-ahyh83005-blur2)" style="
          transform-origin: 38.75rem 2.5rem;
          animation-delay: 4.234351469014505s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group star-group-bg" style="animation-delay: 2.263257457695813s" data-astro-cid-ra7sfcwn> <circle cx="720" cy="130" r="1" class="star star-dim" filter="url(#starfield-ahyh83005-blur2)" style="
          transform-origin: 45rem 8.125rem;
          animation-delay: 2.118832393276417s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group star-group-bg" style="animation-delay: 3.59007937465456s" data-astro-cid-ra7sfcwn> <circle cx="820" cy="70" r="0.8" class="star star-dim" filter="url(#starfield-ahyh83005-blur2)" style="
          transform-origin: 51.25rem 4.375rem;
          animation-delay: 3.854450853900971s;
        " data-astro-cid-ra7sfcwn></circle> </g> </svg> <!-- Layer 3: Foreground accent layer (sparse bright stars) --> <svg viewBox="0 0 881 211" fill="white" aria-hidden="true" class="pointer-events-none absolute w-[70rem] origin-top-right rotate-[45deg] overflow-visible opacity-90 top-14 -right-44 hidden lg:block" style="top: 1rem; right: -3rem;" data-astro-cid-starfield-layer3 data-astro-cid-ra7sfcwn> <defs data-astro-cid-ra7sfcwn> <filter id="starfield-ahyh83005-glow3" data-astro-cid-ra7sfcwn> <feGaussianBlur in="SourceGraphic" stdDeviation="1.5" result="blur" data-astro-cid-ra7sfcwn></feGaussianBlur> <feMerge data-astro-cid-ra7sfcwn> <feMergeNode in="blur" data-astro-cid-ra7sfcwn></feMergeNode> <feMergeNode in="SourceGraphic" data-astro-cid-ra7sfcwn></feMergeNode> </feMerge> </filter> </defs> <!-- Bright accent stars --> <g class="star-group star-group-accent" style="animation-delay: 0.6671528939382845s" data-astro-cid-ra7sfcwn> <circle cx="180" cy="80" r="2.5" class="star star-accent" filter="url(#starfield-ahyh83005-glow3)" style="
          transform-origin: 11.25rem 5rem;
          animation-delay: 0.9667319686998878s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group star-group-accent" style="animation-delay: 2.4708277540045165s" data-astro-cid-ra7sfcwn> <circle cx="420" cy="140" r="2.5" class="star star-accent" filter="url(#starfield-ahyh83005-glow3)" style="
          transform-origin: 26.25rem 8.75rem;
          animation-delay: 1.0209764146417504s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group star-group-accent" style="animation-delay: 0.6935822252293682s" data-astro-cid-ra7sfcwn> <circle cx="660" cy="95" r="2.5" class="star star-accent" filter="url(#starfield-ahyh83005-glow3)" style="
          transform-origin: 41.25rem 5.9375rem;
          animation-delay: 2.2175602729749198s;
        " data-astro-cid-ra7sfcwn></circle> </g><g class="star-group star-group-accent" style="animation-delay: 2.2535408190753805s" data-astro-cid-ra7sfcwn> <circle cx="800" cy="160" r="2.5" class="star star-accent" filter="url(#starfield-ahyh83005-glow3)" style="
          transform-origin: 50rem 10rem;
          animation-delay: 2.283560022113508s;
        " data-astro-cid-ra7sfcwn></circle> </g> </svg>  <!-- Logo --> <div> <a href="/win-qemu/" class="inline-block"> <span class="font-display text-2xl font-bold"> <span class="text-primary">QEMU</span><span class="text-secondary">/KVM</span> </span> </a> </div> <!-- Main title --> <h1 class="mt-14 font-display text-4xl/tight font-light text-base-content">
Windows 11 on Ubuntu  <span class="text-primary">with near-native performance</span> </h1> <!-- Description --> <p class="mt-4 text-sm/6 text-base-content/70">
Run native Microsoft 365 Outlook on Ubuntu 25.10 with <strong class="text-base-content">85-95% native performance</strong>.
                  VirtIO drivers, 14 Hyper-V enlightenments, and 60+ security hardening checks.
</p> <!-- CTA buttons --> <div class="mt-8 flex flex-wrap gap-x-4 gap-y-3"> <a href="/win-qemu/installation" class="btn btn-primary btn-sm">
Get Started
<span aria-hidden="true">&rarr;</span> </a> <a href="https://github.com/kairin/win-qemu" class="btn btn-ghost btn-sm" target="_blank" rel="noopener"> <svg class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24"> <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path> </svg>
GitHub
</a> </div> <!-- Navigation links --> <div class="mt-8 flex flex-wrap gap-x-1 gap-y-3 sm:gap-x-2 lg:justify-start"> <a href="/win-qemu/overview" class="icon-link px-2 py-1"> Overview </a><a href="/win-qemu/installation" class="icon-link px-2 py-1"> Installation </a><a href="/win-qemu/performance" class="icon-link px-2 py-1"> Performance </a><a href="/win-qemu/security" class="icon-link px-2 py-1"> Security </a><a href="/win-qemu/changelog" class="icon-link px-2 py-1"> Changelog </a> </div> </div> </div> <!-- Footer --> <div class="flex flex-1 items-end justify-center pb-4 lg:justify-start lg:pb-6"> <p class="flex items-baseline gap-x-2 text-[0.8125rem]/6 text-base-content/50">
Built with
<a href="https://astro.build" class="icon-link" target="_blank" rel="noopener">
Astro
</a>
+
<a href="https://tailwindcss.com" class="icon-link" target="_blank" rel="noopener">
TailwindCSS
</a> </p> </div> </div> </div> </aside> <!-- Timeline with scroll-linked marker --> <div class="timeline-container pointer-events-none fixed inset-y-0 z-40 hidden lg:block right-[calc(max(2rem,50%-38rem)+40rem-0.375rem)]" data-astro-cid-zhxkjw2l> <!-- Vertical dashed line --> <svg class="absolute inset-0 h-full w-1.5" aria-hidden="true" data-astro-cid-zhxkjw2l> <defs data-astro-cid-zhxkjw2l> <pattern id="timeline-dash" width="6" height="12" patternUnits="userSpaceOnUse" data-astro-cid-zhxkjw2l> <line x1="3" y1="0" x2="3" y2="8" stroke="currentColor" stroke-width="1" class="text-primary/20" data-astro-cid-zhxkjw2l></line> </pattern> <linearGradient id="timeline-gradient" x1="0" y1="0" x2="0" y2="1" data-astro-cid-zhxkjw2l> <stop offset="0%" stop-color="transparent" data-astro-cid-zhxkjw2l></stop> <stop offset="10%" stop-color="currentColor" data-astro-cid-zhxkjw2l></stop> <stop offset="90%" stop-color="currentColor" data-astro-cid-zhxkjw2l></stop> <stop offset="100%" stop-color="transparent" data-astro-cid-zhxkjw2l></stop> </linearGradient> <mask id="timeline-mask" data-astro-cid-zhxkjw2l> <rect width="100%" height="100%" fill="url(#timeline-gradient)" data-astro-cid-zhxkjw2l></rect> </mask> </defs> <rect width="100%" height="100%" fill="url(#timeline-dash)" mask="url(#timeline-mask)" data-astro-cid-zhxkjw2l></rect> </svg> <!-- Scroll marker --> <div id="timeline-marker" class="absolute left-1/2 -translate-x-1/2 transition-all duration-300 ease-out" style="top: 20%;" data-astro-cid-zhxkjw2l> <!-- Glow effect --> <div class="absolute -inset-2 rounded-full bg-primary/30 blur-md" data-astro-cid-zhxkjw2l></div> <!-- Marker icon --> <div class="relative flex h-4 w-4 items-center justify-center rounded-full bg-primary shadow-lg ring-2 ring-primary/50" data-astro-cid-zhxkjw2l> <div class="h-1.5 w-1.5 rounded-full bg-white" data-astro-cid-zhxkjw2l></div> </div> <!-- Active section indicator --> <div id="timeline-label" class="absolute left-6 top-1/2 -translate-y-1/2 whitespace-nowrap rounded bg-base-300/90 px-2 py-0.5 text-xs font-medium text-base-content opacity-0 transition-opacity duration-200" data-astro-cid-zhxkjw2l>
Overview
</div> </div> <!-- Progress fill (animated line showing how far down the page) --> <div id="timeline-progress" class="absolute left-1/2 top-0 w-0.5 -translate-x-1/2 bg-gradient-to-b from-primary/60 to-primary transition-all duration-100" style="height: 20%;" data-astro-cid-zhxkjw2l></div> </div> <script type="module">document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("timeline-marker"),n=document.getElementById("timeline-label"),d=document.getElementById("timeline-progress");if(!r||!n||!d)return;const g=document.querySelectorAll("section.fade-in"),o=[];g.forEach((e,i)=>{const c=e.querySelector("h2, h3")?.textContent?.trim()||`Section ${i+1}`;o.push({el:e,top:0,label:c})});const m=()=>{o.forEach((e,i)=>{const s=e.el.getBoundingClientRect();e.top=s.top+window.scrollY})};m(),window.addEventListener("resize",m);let l=!1;const u=()=>{l||(l=!0,requestAnimationFrame(()=>{const e=window.scrollY,i=document.documentElement.scrollHeight-window.innerHeight,s=Math.min(Math.max(e/i,0),1),c=10,h=c+s*(90-c);r.style.top=`${h}%`,d.style.height=`${h}%`;let a=o[0];const w=e+window.innerHeight/3;for(const p of o)p.top<=w&&(a=p);a&&(n.textContent=a.label),l=!1}))};window.addEventListener("scroll",u,{passive:!0}),u();const t=r.closest(".timeline-container");t&&(t.addEventListener("mouseenter",()=>{n.style.opacity="1",t.classList.add("pointer-events-auto")}),t.addEventListener("mouseleave",()=>{n.style.opacity="0",t.classList.remove("pointer-events-auto")}))});</script>  <!-- Theme toggle (fixed position) --> <button type="button" class="group fixed top-4 right-4 z-50 -m-2.5 p-2.5" id="theme-toggle-btn" aria-label="Toggle theme"> <svg viewBox="0 0 24 24" aria-hidden="true" class="h-6 w-6 fill-base-content opacity-50 transition-opacity group-hover:opacity-100"> <path fill-rule="evenodd" clip-rule="evenodd" d="M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm-5-8a5 5 0 0 0 5 5V7a5 5 0 0 0-5 5Z"></path> </svg> </button> <!-- Search button (fixed position) --> <button type="button" class="group fixed top-4 right-16 z-50 -m-2.5 p-2.5" id="search-btn" aria-label="Search"> <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 fill-none stroke-base-content opacity-50 transition-opacity group-hover:opacity-100" viewBox="0 0 24 24" stroke-width="2"> <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path> </svg> </button> <!-- Main content area --> <main class="relative flex-auto lg:ml-[calc(max(2rem,50%-38rem)+40rem)]"> <div class="px-6 py-20 sm:py-32 lg:px-8"> <div class="mx-auto max-w-2xl lg:max-w-4xl">   <section class="fade-in"> <h2 class="font-display text-xl font-semibold text-base-content">Security Hardening</h2> <p class="mt-2 text-sm/6 text-base-content/70">
60+ security checklist items for production-grade VM security
</p> </section>  <section class="mt-8 fade-in"> <div class="rounded-xl bg-error/10 p-4 ring-1 ring-error/20"> <h3 class="font-semibold text-error">Critical: Read-Only Mounts</h3> <p class="mt-1 text-sm text-base-content/70">Always use read-only virtio-fs mounts to prevent ransomware from encrypting host files.</p> </div> </section>  <section class="mt-12 fade-in"> <h3 class="font-display text-lg font-semibold text-base-content">Security Categories</h3> <div class="mt-4 grid grid-cols-1 gap-4 md:grid-cols-3"> <div class="rounded-xl bg-base-200 p-5 ring-1 ring-base-content/5 text-center"> <div class="text-3xl">&#128274;</div> <h4 class="mt-2 font-semibold">Encryption</h4> <p class="mt-1 text-sm text-base-content/70">LUKS, BitLocker, TLS</p> <span class="badge badge-primary badge-sm mt-2">15 items</span> </div> <div class="rounded-xl bg-base-200 p-5 ring-1 ring-base-content/5 text-center"> <div class="text-3xl">&#128737;</div> <h4 class="mt-2 font-semibold">Network</h4> <p class="mt-1 text-sm text-base-content/70">UFW, M365 whitelist</p> <span class="badge badge-secondary badge-sm mt-2">20 items</span> </div> <div class="rounded-xl bg-base-200 p-5 ring-1 ring-base-content/5 text-center"> <div class="text-3xl">&#128193;</div> <h4 class="mt-2 font-semibold">Filesystem</h4> <p class="mt-1 text-sm text-base-content/70">Read-only, permissions</p> <span class="badge badge-accent badge-sm mt-2">25 items</span> </div> </div> </section>  <section class="mt-12 fade-in"> <h3 class="font-display text-lg font-semibold text-base-content">1. LUKS Encryption for VM Storage</h3> <p class="mt-2 text-sm/6 text-base-content/70">Encrypt VM disk images to protect data at rest:</p> <div class="relative group my-4"> <div class="flex items-center gap-2 px-4 py-2 bg-base-300 rounded-t-sm border-b border-base-100"> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-base-content/50" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path> </svg> <span class="text-sm text-base-content/70 font-mono">luks-setup.sh</span> </div> <pre class="bg-base-300 rounded-b-sm p-4 overflow-x-auto"><code class="font-mono text-sm leading-relaxed"><span class=<span class="text-success">"text-base-content/50"</span>># Create LUKS encrypted container for VM storage</span>
sudo cryptsetup luksFormat /dev/sdX
sudo cryptsetup open /dev/sdX vm-storage

<span class=<span class="text-success">"text-base-content/50"</span>># Create filesystem</span>
sudo mkfs.ext4 /dev/mapper/vm-storage

<span class=<span class="text-success">"text-base-content/50"</span>># Mount and set permissions</span>
sudo mount /dev/mapper/vm-storage /var/lib/libvirt/images
sudo chown -R libvirt-qemu:kvm /var/lib/libvirt/images</code></pre> <button class="btn btn-xs btn-ghost absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity gap-1" data-code="# Create LUKS encrypted container for VM storage
sudo cryptsetup luksFormat /dev/sdX
sudo cryptsetup open /dev/sdX vm-storage

# Create filesystem
sudo mkfs.ext4 /dev/mapper/vm-storage

# Mount and set permissions
sudo mount /dev/mapper/vm-storage /var/lib/libvirt/images
sudo chown -R libvirt-qemu:kvm /var/lib/libvirt/images" onclick="copyCode(this)" aria-label="Copy code"> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 copy-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path> </svg> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 check-icon hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path> </svg> <span class="copy-text">Copy</span> </button> </div> <script>
  function copyCode(button) {
    const code = button.dataset.code;
    navigator.clipboard.writeText(code).then(() => {
      const copyIcon = button.querySelector('.copy-icon');
      const checkIcon = button.querySelector('.check-icon');
      const copyText = button.querySelector('.copy-text');

      copyIcon.classList.add('hidden');
      checkIcon.classList.remove('hidden');
      copyText.textContent = 'Copied!';

      setTimeout(() => {
        copyIcon.classList.remove('hidden');
        checkIcon.classList.add('hidden');
        copyText.textContent = 'Copy';
      }, 2000);
    });
  }
</script> </section>  <section class="mt-12 fade-in"> <h3 class="font-display text-lg font-semibold text-base-content">2. UFW Firewall with M365 Whitelist</h3> <p class="mt-2 text-sm/6 text-base-content/70">Configure firewall to only allow Microsoft 365 traffic:</p> <div class="relative group my-4"> <div class="flex items-center gap-2 px-4 py-2 bg-base-300 rounded-t-sm border-b border-base-100"> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-base-content/50" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path> </svg> <span class="text-sm text-base-content/70 font-mono">ufw-m365.sh</span> </div> <pre class="bg-base-300 rounded-b-sm p-4 overflow-x-auto"><code class="font-mono text-sm leading-relaxed"><span class=<span class="text-success">"text-base-content/50"</span>># Enable UFW</span>
sudo ufw enable
sudo ufw default deny outgoing
sudo ufw default deny incoming

<span class=<span class="text-success">"text-base-content/50"</span>># Allow Microsoft 365 IP ranges (example)</span>
<span class=<span class="text-success">"text-base-content/50"</span>># Full list: https://docs.microsoft.com/microsoft-365/enterprise/urls-and-ip-address-ranges</span>

<span class=<span class="text-success">"text-base-content/50"</span>># Outlook</span>
sudo ufw allow out to 52.96.0.0/14 port 443
sudo ufw allow out to 40.96.0.0/13 port 443

<span class=<span class="text-success">"text-base-content/50"</span>># OneDrive</span>
sudo ufw allow out to 13.107.136.0/22 port 443

<span class=<span class="text-success">"text-base-content/50"</span>># Teams</span>
sudo ufw allow out to 52.112.0.0/14 port 443

<span class=<span class="text-success">"text-base-content/50"</span>># DNS (required)</span>
sudo ufw allow out to any port 53

<span class=<span class="text-success">"text-base-content/50"</span>># Check status</span>
sudo ufw status verbose</code></pre> <button class="btn btn-xs btn-ghost absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity gap-1" data-code="# Enable UFW
sudo ufw enable
sudo ufw default deny outgoing
sudo ufw default deny incoming

# Allow Microsoft 365 IP ranges (example)
# Full list: https://docs.microsoft.com/microsoft-365/enterprise/urls-and-ip-address-ranges

# Outlook
sudo ufw allow out to 52.96.0.0/14 port 443
sudo ufw allow out to 40.96.0.0/13 port 443

# OneDrive
sudo ufw allow out to 13.107.136.0/22 port 443

# Teams
sudo ufw allow out to 52.112.0.0/14 port 443

# DNS (required)
sudo ufw allow out to any port 53

# Check status
sudo ufw status verbose" onclick="copyCode(this)" aria-label="Copy code"> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 copy-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path> </svg> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 check-icon hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path> </svg> <span class="copy-text">Copy</span> </button> </div> <script>
  function copyCode(button) {
    const code = button.dataset.code;
    navigator.clipboard.writeText(code).then(() => {
      const copyIcon = button.querySelector('.copy-icon');
      const checkIcon = button.querySelector('.check-icon');
      const copyText = button.querySelector('.copy-text');

      copyIcon.classList.add('hidden');
      checkIcon.classList.remove('hidden');
      copyText.textContent = 'Copied!';

      setTimeout(() => {
        copyIcon.classList.remove('hidden');
        checkIcon.classList.add('hidden');
        copyText.textContent = 'Copy';
      }, 2000);
    });
  }
</script> </section>  <section class="mt-12 fade-in"> <h3 class="font-display text-lg font-semibold text-base-content">3. virtio-fs Read-Only Protection</h3> <div class="mt-4 rounded-xl bg-error/10 p-4 ring-1 ring-error/20"> <p class="text-sm"><strong>CRITICAL:</strong> Never use read-write mounts for shared folders. Ransomware in the VM can encrypt host files!</p> </div> <div class="relative group my-4"> <div class="flex items-center gap-2 px-4 py-2 bg-base-300 rounded-t-sm border-b border-base-100"> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 text-base-content/50" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path> </svg> <span class="text-sm text-base-content/70 font-mono">virtiofs-readonly.sh</span> </div> <pre class="bg-base-300 rounded-b-sm p-4 overflow-x-auto"><code class="font-mono text-sm leading-relaxed"><span class=<span class="text-success">"text-base-content/50"</span>># Configure virtio-fs daemon with read-only</span>
/usr/libexec/virtiofsd \
  --socket-path=/var/run/virtiofs/vm.sock \
  --shared-dir=/home/user/shared \
  --sandbox none \
  --cache auto \
  --readonly  <span class=<span class="text-success">"text-base-content/50"</span>># CRITICAL: Always use this flag!</span>

<span class=<span class="text-success">"text-base-content/50"</span>># In VM XML:</span>
&lt;filesystem type=<span class="text-success">'mount'</span> accessmode=<span class="text-success">'passthrough'</span>&gt;
  &lt;driver type=<span class="text-success">'virtiofs'</span> queue=<span class="text-success">'1024'</span>/&gt;
  &lt;source dir=<span class="text-success">'/home/user/shared'</span>/&gt;
  &lt;target dir=<span class="text-success">'shared'</span>/&gt;
  &lt;readonly/&gt;  &lt;!-- Enforce read-only --&gt;
&lt;/filesystem&gt;</code></pre> <button class="btn btn-xs btn-ghost absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity gap-1" data-code="# Configure virtio-fs daemon with read-only
/usr/libexec/virtiofsd \
  --socket-path=/var/run/virtiofs/vm.sock \
  --shared-dir=/home/user/shared \
  --sandbox none \
  --cache auto \
  --readonly  # CRITICAL: Always use this flag!

# In VM XML:
<filesystem type='mount' accessmode='passthrough'>
  <driver type='virtiofs' queue='1024'/>
  <source dir='/home/user/shared'/>
  <target dir='shared'/>
  <readonly/>  <!-- Enforce read-only -->
</filesystem>" onclick="copyCode(this)" aria-label="Copy code"> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 copy-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path> </svg> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 check-icon hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path> </svg> <span class="copy-text">Copy</span> </button> </div> <script>
  function copyCode(button) {
    const code = button.dataset.code;
    navigator.clipboard.writeText(code).then(() => {
      const copyIcon = button.querySelector('.copy-icon');
      const checkIcon = button.querySelector('.check-icon');
      const copyText = button.querySelector('.copy-text');

      copyIcon.classList.add('hidden');
      checkIcon.classList.remove('hidden');
      copyText.textContent = 'Copied!';

      setTimeout(() => {
        copyIcon.classList.remove('hidden');
        checkIcon.classList.add('hidden');
        copyText.textContent = 'Copy';
      }, 2000);
    });
  }
</script> </section>  <section class="mt-12 fade-in"> <h3 class="font-display text-lg font-semibold text-base-content">Security Checklist</h3> <div class="mt-4 overflow-x-auto"> <table class="w-full text-left text-sm"> <thead> <tr class="border-b border-base-content/10"> <th class="py-2 pr-4 font-semibold">Category</th> <th class="py-2 pr-4 font-semibold">Item</th> <th class="py-2 font-semibold">Priority</th> </tr> </thead> <tbody class="text-base-content/80"> <tr class="border-b border-base-content/5"> <td class="py-2 pr-4">Encryption</td> <td class="py-2 pr-4">LUKS for VM storage</td> <td class="py-2"><span class="badge badge-error badge-xs">Critical</span></td> </tr> <tr class="border-b border-base-content/5"> <td class="py-2 pr-4">Encryption</td> <td class="py-2 pr-4">BitLocker in Windows guest</td> <td class="py-2"><span class="badge badge-warning badge-xs">High</span></td> </tr> <tr class="border-b border-base-content/5"> <td class="py-2 pr-4">Network</td> <td class="py-2 pr-4">UFW firewall enabled</td> <td class="py-2"><span class="badge badge-error badge-xs">Critical</span></td> </tr> <tr class="border-b border-base-content/5"> <td class="py-2 pr-4">Network</td> <td class="py-2 pr-4">M365 IP whitelist only</td> <td class="py-2"><span class="badge badge-warning badge-xs">High</span></td> </tr> <tr class="border-b border-base-content/5"> <td class="py-2 pr-4">Filesystem</td> <td class="py-2 pr-4">virtio-fs read-only</td> <td class="py-2"><span class="badge badge-error badge-xs">Critical</span></td> </tr> <tr class="border-b border-base-content/5"> <td class="py-2 pr-4">Filesystem</td> <td class="py-2 pr-4">Restricted shared folder paths</td> <td class="py-2"><span class="badge badge-warning badge-xs">High</span></td> </tr> <tr class="border-b border-base-content/5"> <td class="py-2 pr-4">Access</td> <td class="py-2 pr-4">Non-root VM execution</td> <td class="py-2"><span class="badge badge-warning badge-xs">High</span></td> </tr> <tr class="border-b border-base-content/5"> <td class="py-2 pr-4">Access</td> <td class="py-2 pr-4">libvirt group membership only</td> <td class="py-2"><span class="badge badge-info badge-xs">Medium</span></td> </tr> <tr class="border-b border-base-content/5"> <td class="py-2 pr-4">Backup</td> <td class="py-2 pr-4">Encrypted backup rotation</td> <td class="py-2"><span class="badge badge-warning badge-xs">High</span></td> </tr> <tr> <td class="py-2 pr-4">Monitoring</td> <td class="py-2 pr-4">VM resource limits</td> <td class="py-2"><span class="badge badge-info badge-xs">Medium</span></td> </tr> </tbody> </table> </div> </section>  <section class="mt-12 fade-in"> <h3 class="font-display text-lg font-semibold text-base-content">Run Security Audit</h3> <div class="relative group my-4">  <pre class="bg-base-300 rounded-sm p-4 overflow-x-auto"><code class="font-mono text-sm leading-relaxed"><span class=<span class="text-success">"text-base-content/50"</span>># Run full security audit</span>
./scripts/configure-security.sh --audit

<span class=<span class="text-success">"text-base-content/50"</span>># This checks:</span>
<span class=<span class="text-success">"text-base-content/50"</span>># - LUKS encryption status</span>
<span class=<span class="text-success">"text-base-content/50"</span>># - UFW firewall rules</span>
<span class=<span class="text-success">"text-base-content/50"</span>># - virtio-fs mount permissions</span>
<span class=<span class="text-success">"text-base-content/50"</span>># - File permissions</span>
<span class=<span class="text-success">"text-base-content/50"</span>># - Network exposure</span>
<span class=<span class="text-success">"text-base-content/50"</span>># - Backup encryption</span></code></pre> <button class="btn btn-xs btn-ghost absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity gap-1" data-code="# Run full security audit
./scripts/configure-security.sh --audit

# This checks:
# - LUKS encryption status
# - UFW firewall rules
# - virtio-fs mount permissions
# - File permissions
# - Network exposure
# - Backup encryption" onclick="copyCode(this)" aria-label="Copy code"> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 copy-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path> </svg> <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 check-icon hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path> </svg> <span class="copy-text">Copy</span> </button> </div> <script>
  function copyCode(button) {
    const code = button.dataset.code;
    navigator.clipboard.writeText(code).then(() => {
      const copyIcon = button.querySelector('.copy-icon');
      const checkIcon = button.querySelector('.check-icon');
      const copyText = button.querySelector('.copy-text');

      copyIcon.classList.add('hidden');
      checkIcon.classList.remove('hidden');
      copyText.textContent = 'Copied!';

      setTimeout(() => {
        copyIcon.classList.remove('hidden');
        checkIcon.classList.add('hidden');
        copyText.textContent = 'Copy';
      }, 2000);
    });
  }
</script> </section>  <section class="mt-12 fade-in"> <div class="flex flex-wrap gap-4"> <a href="/win-qemu/changelog" class="btn btn-primary">
View Changelog
<span aria-hidden="true">&rarr;</span> </a> <a href="/win-qemu/performance" class="btn btn-ghost">Back to Performance</a> </div> </section>  </div> </div> </main> </div> <!-- Search Modal --> <dialog id="search-modal" class="modal modal-bottom sm:modal-middle"> <div class="modal-box max-w-2xl"> <form method="dialog"> <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2"></button> </form> <h3 class="font-bold text-lg mb-4 flex items-center gap-2"> <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path> </svg>
Search Documentation
</h3> <div class="form-control"> <input type="text" id="search-input" placeholder="Type to search..." class="input input-bordered input-primary w-full" autocomplete="off"> </div> <div id="search-results" class="mt-4 max-h-96 overflow-y-auto"> <div class="text-center text-base-content/50 py-8"> <p>Start typing to search...</p> <p class="text-sm mt-2">Press <kbd class="kbd kbd-sm">Esc</kbd> to close</p> </div> </div> <div class="modal-action justify-between"> <div class="text-sm text-base-content/50"> <kbd class="kbd kbd-sm"></kbd> <kbd class="kbd kbd-sm"></kbd> Navigate
<kbd class="kbd kbd-sm ml-2">Enter</kbd> Select
</div> <form method="dialog"> <button class="btn btn-sm">Close</button> </form> </div> </div> <form method="dialog" class="modal-backdrop"> <button>close</button> </form> </dialog> <script type="module">const o=document.getElementById("search-btn"),s=document.getElementById("search-modal"),a=document.getElementById("search-input"),e=document.getElementById("search-results");o?.addEventListener("click",()=>{s?.showModal(),setTimeout(()=>a?.focus(),100)});document.addEventListener("keydown",t=>{(t.metaKey||t.ctrlKey)&&t.key==="k"&&(t.preventDefault(),s?.showModal(),setTimeout(()=>a?.focus(),100))});s?.addEventListener("keydown",t=>{t.key==="Escape"&&s.close()});let d;a?.addEventListener("input",()=>{clearTimeout(d);const t=a.value.trim();if(!t){e&&(e.innerHTML=`
          <div class="text-center text-base-content/50 py-8">
            <p>Start typing to search...</p>
            <p class="text-sm mt-2">Press <kbd class="kbd kbd-sm">Esc</kbd> to close</p>
          </div>
        `);return}d=setTimeout(async()=>{e&&(e.innerHTML=`
          <div class="flex justify-center py-8">
            <span class="loading loading-spinner loading-md"></span>
          </div>
        `);try{if(typeof window.pagefind<"u"){const i=await window.pagefind.search(t),c=await Promise.all(i.results.slice(0,10).map(n=>n.data()));if(c.length===0){e&&(e.innerHTML=`
                <div class="text-center text-base-content/50 py-8">
                  <p>No results found for "${t}"</p>
                </div>
              `);return}e&&(e.innerHTML=c.map(n=>`
              <a href="${n.url}" class="block p-4 rounded-sm hover:bg-base-300 transition-colors mb-2">
                <div class="font-medium">${n.meta?.title||"Untitled"}</div>
                <div class="text-sm text-base-content/70 mt-1">${n.excerpt}</div>
              </a>
            `).join(""))}else e&&(e.innerHTML=`
              <div class="text-center text-base-content/50 py-8">
                <p>Search index not loaded yet.</p>
                <p class="text-sm mt-2">Pagefind will be available after a full build.</p>
              </div>
            `)}catch(i){console.error("Search error:",i),e&&(e.innerHTML=`
            <div class="text-center text-base-content/50 py-8">
              <p>Search is not available in development mode.</p>
            </div>
          `)}},300)});</script> <!-- Theme toggle script --> <script type="module">const m=document.getElementById("theme-toggle-btn"),t=document.documentElement;m?.addEventListener("click",()=>{const e=t.getAttribute("data-theme")==="nightowl"?"sunrise":"nightowl";t.setAttribute("data-theme",e),localStorage.setItem("theme",e)});window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",n=>{if(!localStorage.getItem("theme")){const e=n.matches?"sunrise":"nightowl";t.setAttribute("data-theme",e)}});</script> </body> </html>